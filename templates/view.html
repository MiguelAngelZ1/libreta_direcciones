{% block content %}
  <h2>Registros en la Libreta</h2>

  <!-- Campo de búsqueda y botón para limpiar filtros -->
  <input type="text" id="searchBox" placeholder="Buscar por nombre, apellido o DNI">
  <button onclick="limpiarBusqueda()">🧹 Limpiar Búsqueda</button>

  <!-- Botón para volver al inicio -->
  <button onclick="window.location.href='/'">🏠 Volver al inicio</button>

  {% if registros %}
    <table id="contactTable">
      <thead>
        <tr>
          <th>Grado</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>DNI</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        {% for registro in registros %}
          <tr data-nombre="{{ registro.nombre | lower }}"
              data-apellido="{{ registro.apellido | lower }}"
              data-dni="{{ registro.dni }}">
            <td>{{ registro.grado }}</td>
            <td>{{ registro.nombre }}</td>
            <td>{{ registro.apellido }}</td>
            <td>{{ registro.dni }}</td>
            <td>
              <!-- Botones de acción -->
              <button class="btn-editar"
                      data-id="{{ registro.id }}"
                      data-grado="{{ registro.grado }}"
                      data-nombre="{{ registro.nombre }}"
                      data-apellido="{{ registro.apellido }}"
                      data-dni="{{ registro.dni }}">
                ✏️ Editar
              </button>
              <button class="btn-eliminar" data-id="{{ registro.id }}">
                ❌ Eliminar
              </button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No hay registros disponibles.</p>
  {% endif %}
{% endblock %}
