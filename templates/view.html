{% extends "base.html" %}

{% block title %}Ver Registros - Mi Aplicaci√≥n{% endblock %}

{% block content %}
  <h2>Registros en la Libreta</h2>
  
  <!-- Campo de b√∫squeda y bot√≥n para limpiar filtros -->
  <input type="text" id="searchBox" placeholder="Buscar por nombre, apellido o DNI">
  <button onclick="limpiarBusqueda()">üßπ Limpiar B√∫squeda</button>

  {% if registros %}
    <table id="contactTable">
      <thead>
        <tr>
          <th>Grado</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>DNI</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        {% for registro in registros %}
          <tr data-nombre="{{ registro.nombre | lower }}"
              data-apellido="{{ registro.apellido | lower }}"
              data-dni="{{ registro.dni }}">
            <td>{{ registro.grado }}</td>
            <td>{{ registro.nombre }}</td>
            <td>{{ registro.apellido }}</td>
            <td>{{ registro.dni }}</td>
            <td>
              <!-- Botones de acci√≥n usando data attributes -->
              <button class="btn-editar"
                      data-id="{{ registro.id }}"
                      data-grado="{{ registro.grado }}"
                      data-nombre="{{ registro.nombre }}"
                      data-apellido="{{ registro.apellido }}"
                      data-dni="{{ registro.dni }}">
                ‚úèÔ∏è Editar
              </button>
              <button class="btn-eliminar" data-id="{{ registro.id }}">
                ‚ùå Eliminar
              </button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No hay registros disponibles.</p>
  {% endif %}
{% endblock %}
